(function(e){function t(t){for(var r,a,s=t[0],c=t[1],u=t[2],f=0,p=[];f<s.length;f++)a=s[f],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&p.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={app:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"16cc":function(e,t,n){e.exports=n.p+"img/singapore.03bb582a.svg"},"1f85":function(e,t,n){e.exports=n.p+"img/canada.48fabe4d.svg"},3717:function(e,t,n){},"395b":function(e,t,n){e.exports=n.p+"img/f-16_skin02.3a4c5e1a.svg"},"3b1b":function(e,t,n){var r={"./f-16_skin01.svg":"e19e","./f-16_skin02.svg":"395b","./mirage_skin01.svg":"c04b","./mirage_skin02.svg":"d9fc","./su-57.svg":"c05d","./su-57_skin01.svg":"7722","./su-57_skin02.svg":"97d8"};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id="3b1b"},"49c9":function(e,t,n){"use strict";var r=n("5d61"),i=n.n(r);t["default"]=i.a},"4afd":function(e,t,n){e.exports=n.p+"img/romania.fa80ca31.svg"},"4bb3":function(e,t,n){},"55f4":function(e,t,n){e.exports=n.p+"img/india.1c4ace5c.svg"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("a026"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-main",[n("router-view")],1)],1)},o=[],a=n("2877"),s=n("6544"),c=n.n(s),u=n("7496"),l=n("f6c4"),f={},p=Object(a["a"])(f,i,o,!1,null,null,null),d=p.exports;c()(p,{VApp:u["a"],VMain:l["a"]});var g=n("f309");r["a"].use(g["a"]);var v=new g["a"]({}),h=n("f6dd"),b=n("8c4f"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-main",[n("div",{staticClass:"container"},[n("Editor",{attrs:{analytics:e.analytics,fighter:e.$route.params.fighter},on:{setVideo:e.setVideo}}),null!=e.videoId?n("youtube",{attrs:{"video-id":e.videoId,"player-width":"640"}}):e._e(),n("Disqus",{staticStyle:{width:"100%"}})],1)])],1)},k=[],w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"editor"}},[n("div",[n("v-select",{attrs:{items:e.items,"item-text":"name","item-value":"fileName",label:"Skin","persistent-hint":"","return-object":"","single-line":""},model:{value:e.skin,callback:function(t){e.skin=t},expression:"skin"}}),n("div",{staticStyle:{display:"flex","display-orientation":"row"}},[n("div",{staticStyle:{display:"flex","flex-direction":"column",flex:"1 1"}},e._l(Object.entries(e.colors),(function(t){var r=t[0],i=t[1];return n("div",{key:r},[n("input",{ref:r,refInFor:!0,attrs:{type:"color",name:r},domProps:{value:i},on:{input:function(t){return e.update(r,t)}}}),n("label",{attrs:{for:r}},[e._v(" "+e._s(r))])])})),0),n("roundel-picker",{staticStyle:{flex:"1 1"},model:{value:e.roundel,callback:function(t){e.roundel=t},expression:"roundel"}})],1),n("div",{style:e.paperSize,attrs:{id:"paper"}},[n(e.currentComponent,{tag:"component",attrs:{roundel:e.roundel},on:{openColorInput:e.openColorInput}})],1),n("v-btn",{attrs:{block:""},on:{click:function(t){return e.printOut("paper")}}},[e._v("Print")])],1)])},x=[],y=n("1da1"),O=(n("96cf"),n("b0c0"),n("ac1f"),n("5319"),n("d3b7"),n("159b"),n("2ca0"),n("99af"),n("add5")),_=n.n(O),j=n("3835"),I=(n("4fad"),n("cb29"),n("5530")),S=n("b85c");n("466d");function A(e){var t=r(e),n=Object(j["a"])(t,2);function r(e){var t=new DOMParser,n=t.parseFromString(e,"image/svg+xml"),r=n.getElementsByTagName("svg")[0],s=i(r),c=o(r),u=a(s,c);return[r,u]}function i(e){function t(e,r){if(null!=e){var i=n(e);null!=i&&(r[e.id]=i);var o,a=Object(S["a"])(e.children);try{for(a.s();!(o=a.n()).done;){var s=o.value;t(s,r)}}catch(c){a.e(c)}finally{a.f()}}}function n(e){var t=r(e),n=i(e),s=o(e),c=a(e),u=null;return null!=t?u={el:e,fill:t}:null!=n?u={el:e,stroke:n}:null!=c&&(u={el:e,roundel:c}),null!=u&&null!=s&&(u.pattern=s),u}function r(e){var t=e.getAttribute("fill");return"string"==typeof t&&"none"!=t?t:null}function i(e){var t=e.getAttribute("stroke");return"string"==typeof t&&"none"!=t?t:null}function o(e){var t=e.id.match(/(pattern_\w+)-/);return null==t?null:t[1]}function a(e){var t=e.id.match(/(roundel_\w+)$/);if(null==t)return null;var n=e.getAttribute("xlink:href"),r=n.match(/.*\/(\w+)[.]svg$/);return null==r?null:r[1]}var s={};return t(e,s),s}function o(e){function t(e,n){if(null==e)return null;"string"==typeof e.id&&null!=/pattern_\w+$/.exec(e.id)&&n.push(e);var r,i=Object(S["a"])(e.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;t(o,n)}}catch(a){i.e(a)}finally{i.f()}}var n=[];return t(e,n),n}function a(e,t){var n={};return t.forEach((function(t){for(var r={},i=0,o=Object.entries(e);i<o.length;i++){var a=Object(j["a"])(o[i],2),s=a[0],c=a[1];void 0!==c.pattern&&c.pattern!==t.id||(r[s]=Object(I["a"])({},c))}n[t.id]=r})),n}this.svg=n[0],this.skins=n[1]}var C=n("be02"),E=n("3b1b");function P(e){return C("./"+e+".svg")}function R(e){return E("./"+e+".svg")}function N(e){return M.apply(this,arguments)}function M(){return M=Object(y["a"])(regeneratorRuntime.mark((function e(t){var n,i,o,a,s,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,V(t);case 2:return n=e.sent,i=Object(j["a"])(n,4),o=i[0],a=i[1],s=i[2],c=i[3],u=r["a"].component("fighter",{template:o,props:{colors:{type:Object,default:function(){return a}},roundel:{type:String,default:"france"}},data:function(){return{target:"base",fighterText:"",currentComponent:null}},methods:{clickMe:function(){console.log("click")},setTarget:function(e){console.log('setTarget("'.concat(e,'")')),this.target=e,this.$emit("openColorInput",e)},getColor:function(e){return this.colors[e]},roundelPath:function(e){return P(e)}},watch:{color:{handler:function(e){console.log("watch change taget color(".concat(this.target,", ").concat(e,")"));var t=Object.assign({},this.colors);"string"==typeof e?t[this.target]=e:e.hex&&(t[this.target]=e.hex),this.colors=t}}}}),e.abrupt("return",{component:u,width:s,height:c,colors:a});case 10:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}function V(e){return $.apply(this,arguments)}function $(){return $=Object(y["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,o,a,s,c,u,l,f,p,d,g,v,h,b,m,k,w,x,y,O,_,I,S,C,E,P;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=R(t),console.log(n),e.next=4,fetch(n);case 4:return r=e.sent,e.next=7,r.text();case 7:for(i=e.sent,o=new A(i),a=o.svg.getAttribute("width"),s=o.svg.getAttribute("height"),o.svg.setAttribute("width","100%"),o.svg.setAttribute("height","100%"),c=0,u=Object.entries(o.skins);c<u.length;c++)for(l=Object(j["a"])(u[c],2),f=l[0],p=l[1],console.log(f),d=0,g=Object.entries(p);d<g.length;d++)v=Object(j["a"])(g[d],2),h=v[0],b=v[1],b.roundel&&(b.el.removeAttribute("xlink:href"),b.el.setAttribute("v-bind:xlink:href","roundelPath(roundel)")),b.fill&&(b.el.removeAttribute("fill"),b.el.setAttribute("v-bind:fill",'getColor("'.concat(h,'")')),b.el.setAttribute("v-on:click.prevent",'setTarget("'.concat(h,'")'))),b.stroke&&(b.el.removeAttribute("stroke"),b.el.setAttribute("v-bind:stroke",'getColor("'.concat(h,'")')),b.el.setAttribute("v-on:click.prevent",'setTarget("'.concat(h,'")')));for(m={},k=0,w=Object.entries(o.skins);k<w.length;k++)for(x=Object(j["a"])(w[k],2),y=x[0],O=x[1],console.log(y),_=0,I=Object.entries(O);_<I.length;_++)S=Object(j["a"])(I[_],2),C=S[0],E=S[1],E.fill?m[C]=E.fill:E.stroke&&(m[C]=E.stroke);return P=o.svg.outerHTML,e.abrupt("return",[P,m,a,s]);case 18:case"end":return e.stop()}}),e)}))),$.apply(this,arguments)}var T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"roundels"},e._l(e.roundels,(function(t){return n("div",{key:t,staticStyle:{width:"70px"}},[n("img",{staticClass:"roundel",attrs:{src:e.assetPath(t),width:32*e.roundelRatio(t),height:"32"},on:{click:function(n){return e.setRoundel(t)}}})])})),0)},D=[],z={props:["value"],data:function(){return{roundel:this.value,roundels:["france","saudi","canada","swiss","us","us_low","us_white","greece","german","soviet","korea","japan","czech","india","italy","poland","romania","singapore","spain","sweden","uk","ukraine"],roundelsRatios:{us:204/108,us_low:204/108,us_white:204/108,korea:1160/481.4}}},methods:{assetPath:function(e){var t=n("be02");return t("./"+e+".svg")},setRoundel:function(e){this.roundel=e,this.$emit("input",e)},roundelRatio:function(e){var t=this.roundelsRatios[e];return void 0===t?1:t}}},L=z,F=(n("bc45"),Object(a["a"])(L,T,D,!1,null,"daa25fec",null)),U=F.exports,B=n("000b"),q={props:["analytics","fighter"],components:{RoundelPicker:U},data:function(){return{currentComponent:null,roundel:"france",width:null,height:null,paperSize:null,items:[{name:"Mirage (1)",fileName:"mirage_skin01",videoId:Object(h["b"])("https://youtu.be/2ZnIgt4x4Yg"),roundel:"france"},{name:"Mirage (2)",fileName:"mirage_skin02",videoId:Object(h["b"])("https://youtu.be/2ZnIgt4x4Yg"),roundel:"saudi"},{name:"F-16 (1)",fileName:"f-16_skin01",videoId:Object(h["b"])("https://youtu.be/4nkjb1LsD64"),roundel:"us_white"},{name:"F-16 (2)",fileName:"f-16_skin02",videoId:Object(h["b"])("https://youtu.be/4nkjb1LsD64"),roundel:"us_white"},{name:"SU-57 (1)",fileName:"su-57_skin01",videoId:Object(h["b"])("https://youtu.be/-Og5zX4I4m8"),roundel:"soviet"},{name:"SU-57 (2)",fileName:"su-57_skin02",videoId:Object(h["b"])("https://youtu.be/-Og5zX4I4m8"),roundel:"soviet"}],skin:null,colors:{}}},created:function(){var e=this.findSkin(this.fighter);this.skin=e||this.items[this.items.length-1],console.log("Skin: ".concat(this.skin.name))},mounted:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.updateVideo(e.skin.videoId),t.next=3,e.replace();case 3:case"end":return t.stop()}}),t)})))()},methods:{findSkin:function(e){if(!e)return null;var t=null;return this.items.forEach((function(n){n.fileName.startsWith(e.toLowerCase())&&(t=n)})),t},replace:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.skin.fileName,t.next=3,N(n);case 3:r=t.sent,e.width=r.width,e.height=r.height,e.paperSize="width:100%;max-width:800px;",e.currentComponent=r.component,e.colors=r.colors;case 9:case"end":return t.stop()}}),t)})))()},updateVideo:function(e){this.$emit("setVideo",e)},update:function(e,t){console.log("set prop ".concat(e," with ").concat(t.target.value)),this.colors[e]=t.target.value},openColorInput:function(e){console.log("open color input of ".concat(e));var t=this.$refs[e][0];t.focus(),t.click()},printOut:function(e){Object(B["b"])(this.analytics,"print_triggered"),Object(B["b"])(this.analytics,"print ".concat(this.skin.name)),_()({printable:e,header:this.skin.name,type:"html",style:"#paper { width:".concat(this.width,"; height:").concat(this.height,"; margin-left:auto; margin-right: 0;}"),scanStyles:!1})}},watch:{skin:{handler:function(e){this.replace(e.fileName),this.updateVideo(e.videoId),this.roundel=e.roundel}}}},G=q,H=(n("7857"),n("8336")),J=n("b974"),Z=Object(a["a"])(G,w,x,!1,null,"8478c9cc",null),K=Z.exports;c()(Z,{VBtn:H["a"],VSelect:J["a"]});var X=n("c1a0"),Y=n("260b"),Q={apiKey:"AIzaSyBmaBOAaPCG0VKfxwRuZiMz6Ja17p5Q3_g",authDomain:"origami-skin.firebaseapp.com",projectId:"origami-skin",storageBucket:"origami-skin.appspot.com",messagingSenderId:"569029957939",appId:"1:569029957939:web:0fb024fa637842be464646",measurementId:"G-ELHG0SG728"},W=Object(Y["a"])(Q),ee={name:"App",components:{Editor:K,Disqus:X["default"]},data:function(){return{analytics:Object(B["a"])(W),videoId:null}},methods:{setVideo:function(e){this.videoId=e}}},te=ee,ne=(n("6836"),Object(a["a"])(te,m,k,!1,null,"2fb377fd",null)),re=ne.exports;c()(ne,{VApp:u["a"],VMain:l["a"]}),r["a"].use(b["a"]);var ie=[{path:"/",name:"Home",component:re},{path:"/:fighter",name:"Home",component:re}],oe=new b["a"]({mode:"history",routes:ie}),ae=oe;r["a"].config.productionTip=!1,r["a"].use(h["a"]),new r["a"]({vuetify:v,render:function(e){return e(d)},router:ae}).$mount("#app")},"5bf1":function(e,t,n){e.exports=n.p+"img/us.8105602b.svg"},"5d61":function(e,t){(function(){var e=document,t=e.createElement("script");t.src="https://origami-skin.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()},"62eb":function(e,t,n){e.exports=n.p+"img/ukraine.c16bba30.svg"},"632d":function(e,t,n){e.exports=n.p+"img/soviet.b65b90ca.svg"},"634c":function(e,t,n){e.exports=n.p+"img/spain.028e8d03.svg"},6559:function(e,t,n){e.exports=n.p+"img/uk.b68f5897.svg"},"65a2":function(e,t,n){e.exports=n.p+"img/czech.d48166a5.svg"},6836:function(e,t,n){"use strict";n("3717")},"71d0":function(e,t,n){e.exports=n.p+"img/france.8c4833dd.svg"},7413:function(e,t,n){e.exports=n.p+"img/us_low.86aa1d0e.svg"},7722:function(e,t,n){e.exports=n.p+"img/su-57_skin01.7aba8724.svg"},7857:function(e,t,n){"use strict";n("c97f")},8785:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"disqus_thread"}})},i=[]},"8b0f":function(e,t,n){e.exports=n.p+"img/greece.5958f057.svg"},"97d8":function(e,t,n){e.exports=n.p+"img/su-57_skin02.fd39a9be.svg"},"9e33":function(e,t,n){e.exports=n.p+"img/sweden.3224b747.svg"},a2c4:function(e,t,n){e.exports=n.p+"img/us_white.1c973490.svg"},ac97:function(e,t,n){e.exports=n.p+"img/poland.c6f9265c.svg"},b04d:function(e,t,n){e.exports=n.p+"img/swiss.17c44bad.svg"},bc45:function(e,t,n){"use strict";n("4bb3")},be02:function(e,t,n){var r={"./canada.svg":"1f85","./czech.svg":"65a2","./france.svg":"71d0","./german.svg":"fe2c","./greece.svg":"8b0f","./india.svg":"55f4","./italy.svg":"c297","./japan.svg":"e22f","./korea.svg":"e893c","./poland.svg":"ac97","./romania.svg":"4afd","./saudi.svg":"e489","./singapore.svg":"16cc","./soviet.svg":"632d","./spain.svg":"634c","./sweden.svg":"9e33","./swiss.svg":"b04d","./uk.svg":"6559","./ukraine.svg":"62eb","./us.svg":"5bf1","./us_low.svg":"7413","./us_white.svg":"a2c4"};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id="be02"},c04b:function(e,t,n){e.exports=n.p+"img/mirage_skin01.b8b69332.svg"},c05d:function(e,t,n){e.exports=n.p+"img/su-57.09b05d6d.svg"},c1a0:function(e,t,n){"use strict";var r=n("8785"),i=n("49c9"),o=n("2877"),a=Object(o["a"])(i["default"],r["a"],r["b"],!1,null,null,null);t["default"]=a.exports},c297:function(e,t,n){e.exports=n.p+"img/italy.40ec2dc6.svg"},c97f:function(e,t,n){},d9fc:function(e,t,n){e.exports=n.p+"img/mirage_skin02.ecf21039.svg"},e19e:function(e,t,n){e.exports=n.p+"img/f-16_skin01.9b4feab7.svg"},e22f:function(e,t,n){e.exports=n.p+"img/japan.219e0ce2.svg"},e489:function(e,t,n){e.exports=n.p+"img/saudi.e9e7a7cf.svg"},e893c:function(e,t,n){e.exports=n.p+"img/korea.3803f607.svg"},fe2c:function(e,t,n){e.exports=n.p+"img/german.9e1b1f84.svg"}});