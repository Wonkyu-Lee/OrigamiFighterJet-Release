(function(e){function t(t){for(var r,a,s=t[0],c=t[1],u=t[2],f=0,d=[];f<s.length;f++)a=s[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0eec":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"disqus_thread"}})},o=[]},"16cc":function(e,t,n){e.exports=n.p+"img/singapore.03bb582a.svg"},"1f85":function(e,t,n){e.exports=n.p+"img/canada.48fabe4d.svg"},"38a0":function(e,t,n){e.exports=n.p+"img/mirage_01.b8b69332.svg"},"3b1b":function(e,t,n){var r={"./f-16_01.svg":"561a","./f-16_02.svg":"b67b","./mirage_01.svg":"38a0","./mirage_02.svg":"fb0e","./su-57.svg":"c05d","./su-57_01.svg":"3c46","./su-57_02.svg":"bc86"};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id="3b1b"},"3c46":function(e,t,n){e.exports=n.p+"img/su-57_01.7aba8724.svg"},"49c9":function(e,t,n){"use strict";var r=n("5d61"),o=n.n(r);t["default"]=o.a},"4afd":function(e,t,n){e.exports=n.p+"img/romania.fa80ca31.svg"},"55f4":function(e,t,n){e.exports=n.p+"img/india.1c4ace5c.svg"},"561a":function(e,t,n){e.exports=n.p+"img/f-16_01.9b4feab7.svg"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("a026"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-main",[n("router-view")],1)],1)},i=[],a=n("2877"),s=n("6544"),c=n.n(s),u=n("7496"),l=n("f6c4"),f={},d=Object(a["a"])(f,o,i,!1,null,null,null),p=d.exports;c()(d,{VApp:u["a"],VMain:l["a"]});var g=n("f309");r["a"].use(g["a"]);var v=new g["a"]({}),h=n("f6dd"),m=n("8c4f"),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-main",[n("div",{staticClass:"container"},[n("Editor",{attrs:{analytics:e.analytics,fighter:e.$route.params.fighter},on:{setVideo:e.setVideo}}),null!=e.videoId?n("youtube",{attrs:{"video-id":e.videoId,"player-width":"640"}}):e._e(),n("Disqus",{staticStyle:{width:"100%"}})],1)])],1)},w=[],x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"editor"}},[n("div",[n("div",{staticStyle:{display:"flex","display-orientation":"row"}},[n("v-select",{attrs:{items:e.designs,"item-text":"name","item-value":"fileName",label:"Skin","persistent-hint":"","return-object":"","single-line":""},model:{value:e.design,callback:function(t){e.design=t},expression:"design"}}),n("v-btn",{on:{click:function(t){return e.reset()}}},[e._v("Reset")])],1),n("div",{staticStyle:{display:"flex","display-orientation":"row"}},[e.currentComponent?n("div",{staticStyle:{display:"flex","flex-direction":"column",flex:"1 1"}},e._l(Object.entries(e.colors),(function(t){var r=t[0],o=t[1];return n("div",{key:r},[n("input",{ref:r,refInFor:!0,attrs:{type:"color",name:r},domProps:{value:o},on:{input:function(t){return e.updateColor(r,t)}}}),n("label",{attrs:{for:r}},[e._v(" "+e._s(r))])])})),0):e._e(),n("roundel-picker",{staticStyle:{flex:"1 1"},model:{value:e.roundel,callback:function(t){e.roundel=t},expression:"roundel"}})],1),n("div",{style:e.paperSize,attrs:{id:"paper"}},[n(e.currentComponent,{tag:"component",attrs:{roundel:e.roundel},on:{openColorInput:e.openColorInput}})],1),n("v-btn",{attrs:{block:""},on:{click:function(t){return e.printOut("paper")}}},[e._v("Print")])],1)])},y=[],k=n("1da1"),_=(n("96cf"),n("b0c0"),n("7db0"),n("d3b7"),n("2ca0"),n("e9c4"),n("ac1f"),n("5319"),n("99af"),n("add5")),O=n.n(_),j=n("3835"),S=(n("4fad"),n("cb29"),n("5530")),D=n("b85c");n("466d"),n("159b");function C(e){var t=r(e),n=Object(j["a"])(t,2);function r(e){var t=new DOMParser,n=t.parseFromString(e,"image/svg+xml"),r=n.getElementsByTagName("svg")[0],s=o(r),c=i(r),u=a(s,c);return[r,u]}function o(e){function t(e,r){if(null!=e){var o=n(e);null!=o&&(r[e.id]=o);var i,a=Object(D["a"])(e.children);try{for(a.s();!(i=a.n()).done;){var s=i.value;t(s,r)}}catch(c){a.e(c)}finally{a.f()}}}function n(e){var t=r(e),n=o(e),s=i(e),c=a(e),u=null;return null!=t?u={el:e,fill:t}:null!=n?u={el:e,stroke:n}:null!=c&&(u={el:e,roundel:c}),null!=u&&null!=s&&(u.pattern=s),u}function r(e){var t=e.getAttribute("fill");return"string"==typeof t&&"none"!=t?t:null}function o(e){var t=e.getAttribute("stroke");return"string"==typeof t&&"none"!=t?t:null}function i(e){var t=e.id.match(/(pattern_\w+)-/);return null==t?null:t[1]}function a(e){var t=e.id.match(/(roundel_\w+)$/);if(null==t)return null;var n=e.getAttribute("xlink:href"),r=n.match(/.*\/(\w+)[.]svg$/);return null==r?null:r[1]}var s={};return t(e,s),s}function i(e){function t(e,n){if(null==e)return null;"string"==typeof e.id&&null!=/pattern_\w+$/.exec(e.id)&&n.push(e);var r,o=Object(D["a"])(e.children);try{for(o.s();!(r=o.n()).done;){var i=r.value;t(i,n)}}catch(a){o.e(a)}finally{o.f()}}var n=[];return t(e,n),n}function a(e,t){var n={};return t.forEach((function(t){for(var r={},o=0,i=Object.entries(e);o<i.length;o++){var a=Object(j["a"])(i[o],2),s=a[0],c=a[1];void 0!==c.pattern&&c.pattern!==t.id||(r[s]=Object(S["a"])({},c))}n[t.id]=r})),n}this.svg=n[0],this.skins=n[1]}var N=n("be02"),A=n("3b1b");function I(e){return N("./"+e+".svg")}function R(e){return A("./"+e+".svg")}function E(e){return P.apply(this,arguments)}function P(){return P=Object(k["a"])(regeneratorRuntime.mark((function e(t){var n,o,i,a,s,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:return n=e.sent,o=Object(j["a"])(n,4),i=o[0],a=o[1],s=o[2],c=o[3],u=r["a"].component("fighter",{template:i,props:{roundel:{type:String,default:"france"}},data:function(){return{colors:a,target:"base",fighterText:"",currentComponent:null}},methods:{clickMe:function(){console.log("click")},setTarget:function(e){console.log('setTarget("'.concat(e,'")')),this.target=e,this.$emit("openColorInput",e)},getColor:function(e){return this.colors[e]},roundelPath:function(e){return I(e)}},watch:{color:{handler:function(e){console.log("watch change taget color(".concat(this.target,", ").concat(e,")"));var t=Object.assign({},this.colors);"string"==typeof e?t[this.target]=e:e.hex&&(t[this.target]=e.hex),this.colors=t}}}}),e.abrupt("return",{component:u,width:s,height:c,colors:a});case 10:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}function M(e){return $.apply(this,arguments)}function $(){return $=Object(k["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,s,c,u,l,f,d,p,g,v,h,m,b,w,x,y,k,_,O,S,D,N,A,I;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=R(t),console.log(n),e.next=4,fetch(n);case 4:return r=e.sent,e.next=7,r.text();case 7:for(o=e.sent,i=new C(o),a=i.svg.getAttribute("width"),s=i.svg.getAttribute("height"),i.svg.setAttribute("width","100%"),i.svg.setAttribute("height","100%"),c=0,u=Object.entries(i.skins);c<u.length;c++)for(l=Object(j["a"])(u[c],2),f=l[0],d=l[1],console.log(f),p=0,g=Object.entries(d);p<g.length;p++)v=Object(j["a"])(g[p],2),h=v[0],m=v[1],m.roundel&&(m.el.removeAttribute("xlink:href"),m.el.setAttribute("v-bind:xlink:href","roundelPath(roundel)")),m.fill&&(m.el.removeAttribute("fill"),m.el.setAttribute("v-bind:fill",'getColor("'.concat(h,'")')),m.el.setAttribute("v-on:click.prevent",'setTarget("'.concat(h,'")'))),m.stroke&&(m.el.removeAttribute("stroke"),m.el.setAttribute("v-bind:stroke",'getColor("'.concat(h,'")')),m.el.setAttribute("v-on:click.prevent",'setTarget("'.concat(h,'")')));for(b={},w=0,x=Object.entries(i.skins);w<x.length;w++)for(y=Object(j["a"])(x[w],2),k=y[0],_=y[1],console.log(k),O=0,S=Object.entries(_);O<S.length;O++)D=Object(j["a"])(S[O],2),N=D[0],A=D[1],A.fill?b[N]=A.fill:A.stroke&&(b[N]=A.stroke);return I=i.svg.outerHTML,e.abrupt("return",[I,b,a,s]);case 18:case"end":return e.stop()}}),e)}))),$.apply(this,arguments)}var T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"roundels"},e._l(e.roundels,(function(t){return n("div",{key:t,staticStyle:{width:"70px"}},[n("img",{staticClass:"roundel",attrs:{src:e.assetPath(t),width:32*e.roundelRatio(t),height:"32"},on:{click:function(n){return e.setRoundel(t)}}})])})),0)},U=[],V=["france","saudi","canada","swiss","us","us_low","us_white","greece","german","soviet","korea","japan","czech","india","italy","poland","romania","singapore","spain","sweden","uk","ukraine"],L=V,z={props:["value"],data:function(){return{roundel:this.value,roundels:L,roundelsRatios:{us:204/108,us_low:204/108,us_white:204/108,korea:1160/481.4}}},methods:{assetPath:function(e){var t=n("be02");return t("./"+e+".svg")},setRoundel:function(e){this.roundel=e,this.$emit("input",e)},roundelRatio:function(e){var t=this.roundelsRatios[e];return void 0===t?1:t}}},F=z,B=(n("e636"),Object(a["a"])(F,T,U,!1,null,"0c327de1",null)),J=B.exports,q=n("000b"),G=[{name:"Mirage (1)",fileName:"mirage_01",videoUrl:"https://youtu.be/2ZnIgt4x4Yg",roundel:"france"},{name:"Mirage (2)",fileName:"mirage_02",videoUrl:"https://youtu.be/2ZnIgt4x4Yg",roundel:"saudi"},{name:"F-16 (1)",fileName:"f-16_01",videoUrl:"https://youtu.be/4nkjb1LsD64",roundel:"us_white"},{name:"F-16 (2)",fileName:"f-16_02",videoUrl:"https://youtu.be/4nkjb1LsD64",roundel:"us_white"},{name:"SU-57 (1)",fileName:"su-57_01",videoUrl:"https://youtu.be/-Og5zX4I4m8",roundel:"soviet"},{name:"SU-57 (2)",fileName:"su-57_02",videoUrl:"https://youtu.be/-Og5zX4I4m8",roundel:"soviet"}],H=G,Z={props:["analytics","fighter"],components:{RoundelPicker:J},data:function(){return{designs:H,paperSize:"width:100%;max-width:800px;",design:null,currentComponent:null,roundel:null,width:null,height:null,colors:null,saveDisabled:!0}},created:function(){console.log("Created")},mounted:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("Mounted"),e.design=e.getDesign(e.fighter),console.log("Skin: ".concat(e.design.name));case 3:case"end":return t.stop()}}),t)})))()},methods:{reset:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return localStorage.setItem(e.design.fileName,null),t.next=3,e.load(e.design);case 3:case"end":return t.stop()}}),t)})))()},getDesign:function(e){var t;return null!==(t=this.findDesign(e))&&void 0!==t?t:this.getLastDesign()},findDesign:function(e){return e?H.find((function(t){return t.fileName.startsWith(e.toLowerCase())})):null},getLastDesign:function(){return H[H.length-1]},replace:function(e,t,n){var r=this;return Object(k["a"])(regeneratorRuntime.mark((function o(){var i,a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,E(e.fileName);case 2:if(i=o.sent,r.width=i.width,r.height=i.height,r.colors=i.colors,t)for(a in t)r.colors[a]=t[a];console.log("update roundel on replace"),r.roundel=n||e.roundel,r.updateVideo(Object(h["b"])(e.videoUrl)),r.currentComponent=i.component;case 11:case"end":return o.stop()}}),o)})))()},save:function(){if(console.log("saveDisabled: ".concat(this.saveDisabled)),!this.saveDisabled){var e={fileName:this.design.fileName,roundel:this.roundel,colors:this.colors};localStorage.setItem(this.design.fileName,JSON.stringify(e)),console.log("Save ".concat(this.design.fileName))}},load:function(e){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.log("Disable Save"),t.saveDisabled=!0,r=null,o=localStorage.getItem(e.fileName),o)try{r=JSON.parse(o)}catch(i){console.log(i)}if(!r){n.next=11;break}return n.next=8,t.replace(e,r.colors,r.roundel);case 8:console.log("Load ".concat(r.fileName)),n.next=13;break;case 11:return n.next=13,t.replace(e);case 13:console.log("Enable Save"),t.saveDisabled=!1;case 15:case"end":return n.stop()}}),n)})))()},updateVideo:function(e){this.$emit("setVideo",e)},updateColor:function(e,t){console.log("set prop ".concat(e," with ").concat(t.target.value)),this.colors[e]=t.target.value,this.save()},openColorInput:function(e){console.log("open color input of ".concat(e));var t=this.$refs[e][0];t.focus(),t.click()},printOut:function(e){Object(q["b"])(this.analytics,"print_triggered"),Object(q["b"])(this.analytics,"print ".concat(this.design.name)),O()({printable:e,documentTitle:"origmi-skin.com",type:"html",style:"#paper { margin:auto; }",scanStyles:!1})}},watch:{design:{handler:function(e){this.load(e)}},roundel:{handler:function(){console.log("roundel handler start"),this.save(),console.log("roundel handler end")}}}},K=Z,X=(n("d2de"),n("8336")),Y=n("b974"),Q=Object(a["a"])(K,x,y,!1,null,"fa6db396",null),W=Q.exports;c()(Q,{VBtn:X["a"],VSelect:Y["a"]});var ee=n("c1a0"),te=n("260b"),ne={apiKey:"AIzaSyBmaBOAaPCG0VKfxwRuZiMz6Ja17p5Q3_g",authDomain:"origami-skin.firebaseapp.com",projectId:"origami-skin",storageBucket:"origami-skin.appspot.com",messagingSenderId:"569029957939",appId:"1:569029957939:web:0fb024fa637842be464646",measurementId:"G-ELHG0SG728"},re=Object(te["a"])(ne),oe={name:"App",components:{Editor:W,Disqus:ee["default"]},data:function(){return{analytics:Object(q["a"])(re),videoId:null}},methods:{setVideo:function(e){this.videoId=e}}},ie=oe,ae=(n("c79f"),Object(a["a"])(ie,b,w,!1,null,"cb3dbaa6",null)),se=ae.exports;c()(ae,{VApp:u["a"],VMain:l["a"]}),r["a"].use(m["a"]);var ce=[{path:"/",name:"Home",component:se},{path:"/fighters/:fighter",name:"Fighter",component:se}],ue=new m["a"]({routes:ce}),le=ue,fe=n("2f62"),de=n("0e44");r["a"].use(fe["a"]);var pe=new fe["a"].Store({state:{},getters:{},mutations:{},actions:{},modules:{},plugins:[Object(de["a"])({paths:[]})]});r["a"].config.productionTip=!1,r["a"].use(h["a"]),new r["a"]({vuetify:v,render:function(e){return e(p)},store:pe,router:le}).$mount("#app")},"5bf1":function(e,t,n){e.exports=n.p+"img/us.8105602b.svg"},"5c79":function(e,t,n){},"5d61":function(e,t){(function(){var e=document,t=e.createElement("script");t.src="https://origami-skin.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()},"62eb":function(e,t,n){e.exports=n.p+"img/ukraine.c16bba30.svg"},"632d":function(e,t,n){e.exports=n.p+"img/soviet.b65b90ca.svg"},"634c":function(e,t,n){e.exports=n.p+"img/spain.028e8d03.svg"},6559:function(e,t,n){e.exports=n.p+"img/uk.b68f5897.svg"},"65a2":function(e,t,n){e.exports=n.p+"img/czech.d48166a5.svg"},"71d0":function(e,t,n){e.exports=n.p+"img/france.8c4833dd.svg"},7413:function(e,t,n){e.exports=n.p+"img/us_low.86aa1d0e.svg"},"8b0f":function(e,t,n){e.exports=n.p+"img/greece.5958f057.svg"},"9e33":function(e,t,n){e.exports=n.p+"img/sweden.3224b747.svg"},a2c4:function(e,t,n){e.exports=n.p+"img/us_white.1c973490.svg"},ac97:function(e,t,n){e.exports=n.p+"img/poland.c6f9265c.svg"},b04d:function(e,t,n){e.exports=n.p+"img/swiss.17c44bad.svg"},b67b:function(e,t,n){e.exports=n.p+"img/f-16_02.3a4c5e1a.svg"},bc86:function(e,t,n){e.exports=n.p+"img/su-57_02.fd39a9be.svg"},be02:function(e,t,n){var r={"./canada.svg":"1f85","./czech.svg":"65a2","./france.svg":"71d0","./german.svg":"fe2c","./greece.svg":"8b0f","./india.svg":"55f4","./italy.svg":"c297","./japan.svg":"e22f","./korea.svg":"e893c","./poland.svg":"ac97","./romania.svg":"4afd","./saudi.svg":"e489","./singapore.svg":"16cc","./soviet.svg":"632d","./spain.svg":"634c","./sweden.svg":"9e33","./swiss.svg":"b04d","./uk.svg":"6559","./ukraine.svg":"62eb","./us.svg":"5bf1","./us_low.svg":"7413","./us_white.svg":"a2c4"};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id="be02"},c05d:function(e,t,n){e.exports=n.p+"img/su-57.09b05d6d.svg"},c1a0:function(e,t,n){"use strict";var r=n("0eec"),o=n("49c9"),i=n("2877"),a=Object(i["a"])(o["default"],r["a"],r["b"],!1,null,null,null);t["default"]=a.exports},c297:function(e,t,n){e.exports=n.p+"img/italy.40ec2dc6.svg"},c79f:function(e,t,n){"use strict";n("5c79")},c83e:function(e,t,n){},d2de:function(e,t,n){"use strict";n("ded9")},ded9:function(e,t,n){},e22f:function(e,t,n){e.exports=n.p+"img/japan.219e0ce2.svg"},e489:function(e,t,n){e.exports=n.p+"img/saudi.e9e7a7cf.svg"},e636:function(e,t,n){"use strict";n("c83e")},e893c:function(e,t,n){e.exports=n.p+"img/korea.3803f607.svg"},fb0e:function(e,t,n){e.exports=n.p+"img/mirage_02.ecf21039.svg"},fe2c:function(e,t,n){e.exports=n.p+"img/german.9e1b1f84.svg"}});